<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wasm experiments</title>
</head>
<body>
<div id="log" class="log"></div>
<pre style='color:#000020;background:#f6f8ff;'>

    const w = await wasm(wasm_url, importObj);

    logger.log(arr, 'Маccив');
    logger.log(w.call('_sum', [{array: arr, type: 'Int32'}, arr.length]), 'Сумма его элементов');

    let new_arr = w.call('_duplicate_arr',
        [{array: arr, type: 'Int32'}, arr.length],
        {type: 'int32', length: arr.length * 2, to_array: true});
    logger.log(new_arr, 'Новый массив возвращенный из C++ функции');
    logger.log(w.call('_sum', [{array: new_arr, type: 'Int32'}, new_arr.length]), 'Сумма его элементов');

</pre>
<script id="wasm" src="./wasm/test.wasm" type="application/wasm"></script>
<script src="./js/index.js"></script>
</body>
</html>